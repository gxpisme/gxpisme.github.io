# 架构的模式
> 很多软件架构都采用了一些具体的模式，也就是常用的一些解决方案。
> 这些解决方案被很多网站重复使用，并且也确实能够解决问题。

## 分层（横向拆分）
分层也被称为横向拆分。最简单容易理解的例子是，网络的七层通信协议，完美的诠释了分层的重要性。对系统分层，也使得逻辑清晰，职责分明，不同层次处理不同的事情。

分层可以更好地将一个庞大系统切分成不同的组成部分，每个部分或者说每个层次都具有一定的独立性，更加便于合作开发、维护等工作。

分层架构是逻辑上的，在物理部署上，多个层次的模块可以部署在同一台机器上。随着业务的发展，后面肯定会对已经分层的模块分离部署的，用来抗住更大的用户流量。

分层简单来看可以分为三层，应用层、服务层、数据层。
- 应用层 主要负责业务视图展示等。
- 服务层 为应用层提供服务支持。
- 数据层 为服务层提供数据，如：数据库、缓存、文件、搜索引擎。

## 分割（纵向拆分）
分割就是对软件进行纵向拆分。网站越来越大，功能越来越复杂，服务和数据也越来越多。

将不同的功能拆分开，形成高内聚低耦合的单元。主要是为了软件的开发和维护，也是为了便于不同模块的分布式部署。

业务会被拆分的越来越细，高内聚低耦合的单元越来越多。

## 分布式（distributed）
> 分布式（distributed）是指在多台不同的服务器中部署不同的服务模块，通过远程调用协同工作，对外提供服务。比如把购物分为商品、购物车、订单、支付。
> 集群（cluster）是指在多台不同的服务器中部署相同应用或服务模块，构成一个集群，通过负载均衡设备对外提供服务。

横向拆分和纵向拆分就是为了分布式部署。将不同模块部署到不同的服务器上，通过远程调用工作。分布式意味着很多模块，模块越多，就需要更多的计算机部署，也就是可以使用更多的计算机资源。这样能够处理的更多的访问请求，更大的数据量。

分布式也会带来一些问题，比如网络传输，服务器宕机率提升，数据一致性问题，分布式事务，依赖关系错综复杂。

- 分布式应用和服务
- 分布式静态资源
- 分布式数据和存储
- 分布式计算 目前普遍使用的Hadoop&MapReduce
- 分布式锁


## 集群(cluster)
对横向拆分和纵向拆分的模块，进行了分布式部署。但是其中某些模块访问量较大，单机扛不住，所以就需要部署这个模块的集群。
对这些集群中的各个服务器进行流量分发，这些服务器负载是否一样，是否会存在大部分请求打在了某几台服务器上，这种情况下用负载均衡调节器来处理。

集群具有伸缩性，对于集群中某台机器宕机，也可用负载均衡来治理。


## 缓存

## 异步

## 冗余
